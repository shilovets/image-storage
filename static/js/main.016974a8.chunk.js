(this["webpackJsonpgooly-front"]=this["webpackJsonpgooly-front"]||[]).push([[0],{31:function(e,t,a){e.exports=a(65)},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(28),c=a.n(r),i=(a(36),a(9)),m=a(6),s=(a(37),a(38),function(){return l.a.createElement("header",{className:"header d-flex align-items-center"},l.a.createElement("h1",null,l.a.createElement(i.b,{to:"/"},"IMAGE-STORAGE"),l.a.createElement("span",null,"test")),l.a.createElement("ul",{className:"d-flex align-items-center"},l.a.createElement("li",null,l.a.createElement(i.b,{to:"/imagesList"},"Images List")),l.a.createElement("li",null,l.a.createElement(i.b,{to:"/addImage"},"Add Images"))))}),o=a(8),u=a(12),d=a(13),g=a(14),E=a(11),h=a.n(E),f=(a(61),a(62),function(){return l.a.createElement("div",{className:"loadingio-spinner-spinner-rkpf3jscdd"},l.a.createElement("div",{className:"ldio-8as5nqhmm4u"},l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null)))}),p=(a(63),function(){return l.a.createElement("div",{className:"error-indicator d-flex flex-column align-items-center"},l.a.createElement("h2",null,"Oops"),l.a.createElement("h1",null,"Coronavirus is here"),l.a.createElement("h3",null,"We've already sent out antibodies to fight the enemy"))}),v=function e(){Object(o.a)(this,e)};v.apiURL="https://images-storage-server.herokuapp.com/";var b=v,y=function(e){Object(g.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={images:[],loading:!0,error:!1},e.onDelete=function(t){var a={imageId:t};e.setState({loading:!0}),h.a.post(b.apiURL+"/Image/Remove",a).then((function(t){e.getImages()})).catch((function(e){return console.log(e)}))},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.getImages()}},{key:"getImages",value:function(){var e=this,t=b.apiURL+"/Images";h.a.get(t).then((function(t){e.setState({images:t.data.images,loading:!1})})).catch((function(t){console.log(t),e.setState({loading:!1,error:!0})}))}},{key:"render",value:function(){var e=this,t=this.state.images;return this.state.error?l.a.createElement(p,null):l.a.createElement("div",{className:"images-list d-flex flex-column align-items-center"},l.a.createElement("div",{className:"images-list__title"},l.a.createElement("h2",null,"Images")),this.state.loading?l.a.createElement(f,null):l.a.createElement("div",{className:"images-list__table"},l.a.createElement("table",{className:"table table-hover"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Data"),l.a.createElement("th",null))),l.a.createElement("tbody",null,t.map((function(t,a){var n=t.name,r=t.data,c=t.id;return l.a.createElement("tr",{key:a},l.a.createElement("td",null,n),l.a.createElement("td",null,l.a.createElement("img",{src:r,alt:"kek"})),l.a.createElement("td",null,l.a.createElement("button",{onClick:function(){return e.onDelete(c)},type:"submit",className:"btn btn-outline-danger btn-sm "},l.a.createElement("i",{className:"fa fa-trash-o"}))))}))))))}}]),a}(n.Component),N=(a(64),function(e){Object(g.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={formControl:{imageName:{value:"",type:"text",errorMessage:"\u0414\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u0430\u044f \u0434\u043b\u0438\u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438 \u043e\u0442 1 \u0434\u043e 30 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",valid:!0,touched:!1,validation:{required:!0,maxLength:30}}},toggleAlert:null,uploading:!1,name:"",data:""},e.handlerSubmit=function(t){t.preventDefault(),e.setState({uploading:!0});var a={name:e.state.name,data:e.state.data};h.a.post(b.apiURL+"/Image/Send/Test",a).then((function(t){e.setState({uploading:!1,toggleAlert:!0,data:""})})).catch((function(t){console.log(t),e.setState({uploading:!1,toggleAlert:!1})}))},e.handlerChangeData=function(t){return new Promise((function(a,n){e.setState({toggleAlert:null});var l=new FileReader,r=t.target.files[0];l.readAsDataURL(r),l.onload=function(){e.setState({name:r.name,data:l.result})},l.onerror=function(e){return n(e)}}))},e}return Object(u.a)(a,[{key:"render",value:function(){var e=null;return this.state.toggleAlert?e=l.a.createElement("div",{className:"alert  alert-success"},l.a.createElement("p",null,l.a.createElement("strong",null,"Well done!")," You successfully uploaded the image.")):this.state.toggleAlert&&(e=l.a.createElement("div",{className:"alert alert-danger",role:"alert"},l.a.createElement("p",null,l.a.createElement("strong",null,"Oh snap!")," The image didn't upload"))),l.a.createElement(n.Fragment,null,e,l.a.createElement("form",{className:"add-images",onSubmit:this.handlerSubmit},this.state.uploading?l.a.createElement(f,null):l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Add image"),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"file",className:"form-control-file",id:"exampleInputFile","aria-describedby":"fileHelp",accept:"image/*",onChange:this.handlerChangeData}),""!==this.state.data?l.a.createElement("img",{src:this.state.data,className:"added-image",alt:"kek"}):null),l.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Add"))))}}]),a}(n.Component)),I=function(){return l.a.createElement(i.a,null,l.a.createElement("div",{className:"jumbotron"},l.a.createElement(s,null),l.a.createElement(m.c,null,l.a.createElement(m.a,{path:"/",exact:!0,render:function(){return l.a.createElement("h2",{className:"hello-text"},"Welcome to the images storage")}}),l.a.createElement(m.a,{path:"/imagesList",component:y}),l.a.createElement(m.a,{path:"/addImage",component:N}))))};c.a.render(l.a.createElement(I,null),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.016974a8.chunk.js.map